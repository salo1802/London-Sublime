var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire37de;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire37de=r);var o=r("li1Mx"),a=r("1tHc5"),d=r("6naOk"),l=r("2EF88");l=r("2EF88");var c=r("etBjH");r("gMVVg"),function(e){const t=e.getElementsByClassName("header__profile"),n=e.getElementsByClassName("header__logo"),r=e.getElementsByClassName("header__car");console.log(t),t&&t[0].addEventListener("click",(e=>{window.location.href="./login.html"})),n&&n[0].addEventListener("click",(e=>{window.location.href="./LS products.html"})),r&&r[0].addEventListener("click",(e=>{window.location.href="./car.html"}))}(document);const i=document.getElementById("cart"),s=document.getElementById("total"),u=document.getElementById("buy"),g=document.getElementById("cartform"),m=document.getElementById("cancel");let p=[];g.hidden=!0;let f=0;function h(e){let t=0;e.forEach((e=>{!function(e){const t=document.createElement("li");t.className="product flex",t.innerHTML=`\n    <img src="${e.images[0]}" class="product__image">\n    <div class="info">\n    <h2 class="product__name">${e.name}</h2>\n    <h3 class="product__price">${l.currencyFormat(e.price)}</h3>\n    <input class="product__color" type="color" value="${e.colors[0]}"\n    </div>\n    <button class="product__delete">Delete</button>\n    `,i.appendChild(t),t.addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&(console.log("remove it!"),async function(e){const t=p.filter((t=>t.id!==e));p=t,userLogged&&await d.createFirebaseCart(o.db,userLogged.uid,t);l.addProductToCart(t),i.innerHTML="",h(t)}(e.id))}))}(e),t+=parseInt(e.price),f+=parseInt(e.price)})),s.innerText="Total: "+l.currencyFormat(t)}a.onAuthStateChanged(o.auth,(async e=>{e?(userLogged=e,p=await d.getFirebaseCart(o.db,userLogged.uid)):p=l.getMyLocalCart(),h(p)})),u.addEventListener("click",(()=>{g.hidden=!1})),m.addEventListener("click",(()=>{g.hidden=!0})),currentTime=new Date,g.addEventListener("submit",(e=>{if(e.preventDefault(),userLogged){console.log(userLogged.uid);try{p.forEach((e=>{total+=parseInt(e.price.value)}));let e={user:userLogged.uid,order:p,address:g.address.value,username:g.name.value,useremail:g.email.value,phone:g.phone.value,zip:g.zip.value,date:currentTime,total:total};console.log("Order made"),c.addDoc(c.collection(o.db,"users/"+userLogged.uid+"/orders"),e).then(alert("Your order has been made! ")),g.hidden=!0}catch(e){console.log(e)}}}));
//# sourceMappingURL=car.144d8306.js.map
