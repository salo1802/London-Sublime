var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},n=e.parcelRequire37de;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in t){var n=t[e];delete t[e];var l={id:e,exports:{}};return o[e]=l,n.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,o){t[e]=o},e.parcelRequire37de=n),n("9HrqM");var l=n("li1Mx"),a=n("etBjH"),c=n("aYguL");async function r(e,o=[]){return o.map((async o=>{const t=await async function(e,o){const t=c.ref(e,`products/images/${o.name}`);return await c.uploadBytes(t,o)}(e,o);return c.getDownloadURL(c.ref(e,t.ref.fullPath))}))}n("gMVVg"),function(e){const o=e.getElementsByClassName("header__profile"),t=e.getElementsByClassName("header__logo"),n=e.getElementsByClassName("header__car");console.log(o),o&&o[0].addEventListener("click",(e=>{window.location.href="./login.html"})),t&&t[0].addEventListener("click",(e=>{window.location.href="./LS products.html"})),n&&n[0].addEventListener("click",(e=>{window.location.href="./car.html"}))}(document);const s=document.getElementById("createForm"),d=document.getElementById("addColor");document.getElementById("submiter");let i=[...document.getElementsByClassName("productImage")],u=(document.getElementsByClassName("productColor"),[]),m=[];d.addEventListener("click",(e=>{e.preventDefault(),console.log("entro");let o=document.getElementById("formcontent"),t=document.createElement("div");t.innerHTML='\n    <h2 class="formtitles">Color</h2>\n     <input class="productColor"  type="color">\n     <h2 class="formtitles--image">Image</h2>\n     <label class="custom-file-upload">\n        <input required multiple=false accept=".png,.jpg,.jpeg" class="productImage" type="file">\n        upload the color image\n    </label>\n    ',console.log(t.innerHTML),o.appendChild(t)})),console.log(i),s.addEventListener("submit",(async e=>{e.preventDefault(),console.log("Create a new product");let o=[...document.getElementsByClassName("productImage")],t=[...document.getElementsByClassName("productColor")];m.length=0,o.forEach((e=>{console.log(e.files[0]),m.push(e.files[0])})),console.log(m),u=[],t.forEach((e=>{u.push(e.value)})),console.log(m),console.log(u);const n=s.productName.value,c=s.productPrice.value,d=s.category.value;let i=[];if(m.length){const e=await r(l.storage,[...m]);i=await Promise.all(e),console.log(i)}const g={name:n,price:c,category:d,images:i,colors:u};await async function(e,o){try{await a.addDoc(a.collection(e,"products"),o),console.log("Product added! :)")}catch(e){console.log(e)}}(l.db,g)}));
//# sourceMappingURL=newproduct.8ae453fb.js.map
