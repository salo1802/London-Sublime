var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},c=e.parcelRequire37de;null==c&&((c=function(e){if(e in t)return t[e].exports;if(e in n){var c=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,c.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire37de=c);var o=c("li1Mx"),r=c("1tHc5"),a=c("etBjH");var d=c("6naOk"),i=c("2EF88");o=c("li1Mx"),a=c("etBjH");!function(e){const t=e.getElementsByClassName("header__profile"),n=e.getElementsByClassName("header__logo"),c=e.getElementsByClassName("header__car");console.log(t),t&&t[0].addEventListener("click",(e=>{window.location.href="./login.html"})),n&&n[0].addEventListener("click",(e=>{window.location.href="./LS products.html"})),c&&c[0].addEventListener("click",(e=>{window.location.href="./car.html"}))}(document);const s=document.getElementById("products"),l=document.getElementById("category"),u=document.getElementById("order"),p=document.getElementById("addProduct");let m,g=[],h=[];async function f(){const e=await async function(e){const t=a.collection(e,"products");try{const{docs:e}=await a.getDocs(t);return e.map((e=>({...e.data(),id:e.id})))}catch(e){console.log(e)}}(o.db);s.innerHTML="",e.forEach((e=>{y(e)})),g=e}function y(e){const t=document.createElement("a");t.className="product",t.setAttribute("href",`./product.html?id=${e.id}`);const n=e.images?e.images[0]:"https://cdn1.iconfinder.com/data/icons/business-company-1/500/image-512.png",c=h.some((t=>t.id===e.id))?'<button class="product__cart" disabled>Added to cart</button>':'<button class="product__cart">Add to cart</button>';t.innerHTML=`\n    <img src="${n}" alt="" class="product__image">\n    <div class="product__bot">\n    <div class="product__info">\n        <h2 class="product__name">${e.name}</h2>\n        <p class="product__category">${e.category}</p> \n        <h3 class="product__price">${i.currencyFormat(e.price)}</h3>\n        </div>\n        ${c}\n        </div>\n    `,s.appendChild(t);const r=t.querySelector(".product__cart");r.addEventListener("click",(async t=>{t.preventDefault(),h.push(e),i.addProductToCart(h),m&&await d.createFirebaseCart(o.db,m.uid,h),r.setAttribute("disabled",!0),r.innerText="Added to cart"}))}function _(){const e=l.value,t=u.value;let n=[];n=""!==e?g.filter((t=>t.category===e)):g,"asc"===t&&(n=n.sort(((e,t)=>t.price-e.price))),"desc"===t&&(n=n.sort(((e,t)=>e.price-t.price))),"color"===t&&(n=n.sort(((e,t)=>t.colors.length-e.colors.length))),s.innerHTML="",n.forEach((e=>{y(e)}))}l.addEventListener("change",(e=>{_()})),u.addEventListener("change",(e=>{_()})),r.onAuthStateChanged(o.auth,(async e=>{e?(m=e,h=await d.getFirebaseCart(o.db,m.uid),userObject=await async function(e){const t=a.doc(o.db,"users",e);try{return(await a.getDoc(t)).data()}catch(e){console.log(e)}}(m.uid),1==userObject.isAdmin?p.innerHTML='<a  href="./newproduct.html">+</a>':p.innerHTML=""):(h=i.getMyLocalCart(),p.innerHTML=""),f()}));
//# sourceMappingURL=LS products.5e18ac8d.js.map
